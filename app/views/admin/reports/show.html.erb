<div class="container my-4">
  <h3>通報詳細 No.<%= @report.id %></h3>

  <div class="card">
    <div class="card-body">
      <p><strong>通報日時:</strong> <%= l @report.created_at, format: :long %></p>
      <p><strong>通報者:</strong> <%= @report.reporter.name %> (<%= @report.reporter.email %>)</p>
      <p><strong>被通報者:</strong> <%= @report.reported.name %> (<%= @report.reported.email %>)</p>
      <p><strong>通報対象:</strong> <%= @report.reportable_type %> (ID: <%= @report.reportable_id %>)</p>
      <p><strong>理由:</strong> <%= @report.reason_i18n %></p>
      <hr>
      
      <h5>対応ステータス更新</h5>
      <%= form_with model: [:admin, @report], local: true do |f| %>
        <div class="input-group">
          <%# enumの選択肢を日本語で表示 %>
          <%= f.select :status, Report.statuses.keys.map { |k| [I18n.t("enums.report.status.#{k}"), k] }, {}, class: "form-select" %>
          <%= f.submit "更新", class: "btn btn-primary" %>
        </div>
      <% end %>
    </div>
    <div class="card-footer">
      <%= link_to "一覧へ戻る", admin_reports_path, class: "btn btn-secondary" %>
    </div>
  </div>
</div>