
<!-- app/views/admin/graves/_form.html.erb -->
<!-- 新規・編集で共通のフォーム部分 -->
<%# エラーメッセージ表示エリア %>
<% if grave.errors.any? %>
  <div class="alert alert-danger">
    <h5><%= grave.errors.count %>件のエラーが発生しました:</h5>
    <ul>
      <% grave.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
    </ul>
  </div>
<% end %>

<%= form_with model: [:admin, grave], local: true do |f| %>
  <div class="form-group">
    <%= f.label :name, "名称（故人名など）" %>
    <%= f.text_field :name, class: "form-control" %>
  </div>
  
  
  <div class="form-group">
    <%= f.label :genre_ids, "ジャンル" %>
    <div>
      <%= f.collection_check_boxes :genre_ids, Genre.all, :id, :name do |b| %>
        <div class="form-check form-check-inline">
          <%= b.check_box class: "form-check-input" %>
          <%= b.label class: "form-check-label" %>
        </div>
      <% end %>
    </div>
  </div>

  <div class="form-group">
    <%= f.label :description, "説明文" %>
    <%= f.text_area :description, rows: 5, class: "form-control" %>
  </div>

  <div class="form-group">
    <%= f.label :prefecture, "都道府県" %>
    <%= f.text_field :prefecture, class: "form-control" %>
  </div>
  
  <div class="form-group">
    <%= f.label :address, "住所" %>
    <%= f.text_field :address, class: "form-control" %>
  </div>

  <div class="form-row">
    <div class="form-group col-md-6">
      <%= f.label :latitude, "緯度" %>
      <%= f.text_field :latitude, class: "form-control" %>
    </div>
    <div class="form-group col-md-6">
      <%= f.label :longitude, "経度" %>
      <%= f.text_field :longitude, class: "form-control" %>
    </div>
  </div>

  <div class="form-group">
    <%= f.submit "登録する", class: "btn btn-primary" %>
    <%= link_to "一覧へ戻る", admin_graves_path, class: "btn btn-secondary" %>
  </div>
<% end %>